<!DOCTYPE html>
{% load static %}

<html>
<head>

  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" type="">
  <style>
    .dropdown {
    position: relative;
  }

  .dropdown-menu {
    display: none;
    position: absolute;
    top: 100%;
    right: 0;
    background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent background */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border-radius: 4px;
    min-width: 150px;
    z-index: 1000;
    backdrop-filter: blur(5px); /* Adds a subtle blur effect */
  }

  .dropdown-menu .dropdown-item {
    padding: 8px 16px;
    text-decoration: none;
    color: #333;
    display: block;
    transition: background 0.3s ease;
  }

  .dropdown-menu .dropdown-item:hover {
    background-color: rgba(255, 255, 255, 0.5); /* Transparent hover effect */
  }
  .form-inline {
      display: flex;
      align-items: center;
    }

    .nav_search-btn {
      background: none;
      border: none;
      cursor: pointer;
    }

    .search-input {
      display: none;
      border: 1px solid #ccc;
      padding: 5px;
      margin-left: 5px;
      border-radius: 4px;
    }

    .search-input.active {
      display: inline-block;
    }
/* Position the cart container to ensure the count can be positioned relative to it */
/* ------------------------------------------------------------------------------------- */
.cart-popup {
  display: block; /* Ensure the popup is visible */
  position: absolute;
  top: 35px;
  right: 0;
  background: rgb(8, 7, 7);
  border: 1px solid #000000;
  padding: 15px;
  width: 300px;
  z-index: 1000;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border-radius: 5px; /* Add rounded corners */
}

.cart-items-list {
  display: flex;
  flex-direction: column; /* Stack items vertically */
  gap: 10px; /* Add spacing between items */
}

.cart-item {
  display: flex;
  justify-content: space-between; /* Align name/price and button */
  align-items: center; /* Center-align vertically */
  background: #0e0b0b; /* Light background for items */
  padding: 10px;
  border-radius: 5px;
}

.item-details {
  flex-grow: 1;
}

.item-name {
  font-weight: bold;
}

.item-price,
.item-quantity {
  margin-left: 10px;
  color: #555;
}

.remove-item {
  background-color: #d9534f;
  color: rgb(32, 23, 23);
  border: none;
  padding: 5px 10px;
  cursor: pointer;
  border-radius: 5px;
}

#clear-cart-btn {
  margin-top: 10px;
  background-color: red;
  color: white;
  padding: 10px;
  border: none;
  cursor: pointer;
  border-radius: 5px;
  width: 100%; /* Stretch the clear button */
}

.cart-summary {
  margin-top: 15px;
  font-weight: bold;
  text-align: right;
  border-top: 1px solid #ccc;
  padding-top: 10px;
}

#cart-popup {
  transition: opacity 0.3s ease, visibility 0.3s ease;
  opacity: 0;
  visibility: hidden;
}

#cart-popup[style*="block"] {
  opacity: 1;
  visibility: visible;
}

/* Additional Styling from Your Original Setup */
.cart-container {
  position: relative;
}

.cart_link {
  position: relative;
  text-decoration: none;
}

#cart-count {
  position: absolute;
  top: -5px;
  right: -10px;
  background: red;
  color: white;
  border-radius: 50%;
  padding: 2px 6px;
  font-size: 12px;
  display: none; /* Default: hide the badge */
}
#cart-count.show {
  display: inline-block; /* Show only when thereâ€™s a count */
}
img#popcart {
  height: 25px;
  width: 25px;
  cursor: pointer;
}

/* ------------------------------------------------------------------------------------- */


</style>

  
  <title> {% block title %}Home{% endblock %}</title>

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!--owl slider stylesheet -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
  <!-- nice select  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css" integrity="sha512-CruCP+TD3yXzlvvijET8wV5WxxEh5H8P4cmz0RFbKK6FlZ2sYl3AEsKlLPHbniXKSrDdFewhbmBK5skbdsASbQ==" crossorigin="anonymous" />
  <!-- font awesome style -->
  <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet" />

  <!-- Custom styles for this template -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet" />
  <!-- responsive style -->
  <link href="{% static 'css/responsive.css' %}" rel="stylesheet" />

</head>
<body>
   

        <!-- header section strats -->
        <header class="header_section" style="background: linear-gradient(to right, #803434, #B8860B); /* Red to Gold */
        color: white; /* Ensure text stands out */
        padding: 20px;">
          <div class="container">
            <nav class="navbar navbar-expand-lg custom_nav-container ">
              <a class="navbar-brand" href="/">
             
                <span>

                  <!-- <img src="{% static 'images/pngg.png' %}"  style=" height: 100px; width: 220px; margin: 0px; padding: 0px;"alt=""> -->
                  ZestyZone
                  
                  <!-- <img src="{% static 'images/horizontal-logo.png' %}" style="height: 100px; width: 100px; " alt=""> -->
                </span>
              </a>
           
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav  mx-auto ">
                </ul>
                <div class="user_option">
                  <a href="/">
                    <img src="{% static 'images\icons8-home-24.png' %}" style="height: 25px; width: 25px ; margin-right: 8px;;"  alt="">
                </a>
                
                    <!-- <a class="nav-link" href="/" style="color: #ffbe33;" >Home <span class="sr-only">(current)</span></a> -->
                 
                  <!-- <div class="dropdown">
                    <a href="javascript:void(0)" class="user_link" id="userDropdown" onclick="toggleDropdown()">
                      <i class="fa fa-user" aria-hidden="true"></i>
                    </a>
                    <div id="dropdownMenu" class="dropdown-menu" style="background: burlywood; border: none;">
                      {% if not request.user.is_authenticated %}
                      <a href="/auth/signup" class="dropdown-item">SIGNUP</a>
                      <a href="/auth/login" class="dropdown-item">LOGIN</a>
                      {% else %}
                      <a href="/auth/logout" class="dropdown-item">LOGOUT</a>
                      {% endif %}
                    </div>
                  </div> -->

<!-- 
                  <a class="cart_link" href="#">
                        
                        <div class="cart-container" style="position: relative;">
                          <img src="{% static 'images/cart.png' %}" style="height: 25px; width: 25px;" alt="Cart" class="fa fa-shopping-cart" id="popcart" data-toggle="popover" data-placement="bottom">
                          <span id="cart-count" class="cart-count"></span>
                          
                        </div>
                       -->
                        
                       <div class="cart-container" style="position: relative;">
                        <a class="cart_link" href="#">
                          <img src="{% static 'images/cart.png' %}" style="height: 25px; width: 25px;" alt="Cart" id="popcart">
                          <span id="cart-count" class="cart-count" style="position: absolute; top: -5px; right: -10px; background: red; color: rgb(43, 35, 35); border-radius: 50%; padding: 2px 6px; font-size: 12px;"></span>
                        </a>
                        <!-- Cart Popup -->
                        <div id="cart-popup" style="display: none; position: absolute; top: 35px; right: 0; background: rgb(7, 6, 6); border: 1px solid #201717; padding: 10px; width: 300px; z-index: 1000; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
                          <div id="cart-items-list" class="cart-items-list"></div>
                          <div id="cart-summary" class="cart-summary" style="margin-top: 10px; font-weight: bold;"></div>
                          <button id="clear-cart-btn" style="margin-top: 10px; background-color: red; color: white; padding: 5px 10px; border: none; cursor: pointer;">Clear Cart</button>
                        </div>
                      </div>
                      

                
                  <!-- <a class="cart_link" id="popcart" data-container="body" data-toggle="popover" data-placement="bottom" data-html="true" href="#"> -->
             <!-- <a class="cart_link" id="popcart" data-container="body" data-toggle="popover" data-placement="bottom" data-html="true" href="#">
>>>>>>> 3fc27a6ec9bb57b9fd2c86e6ef680d3313a8d38e
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 456.029 456.029" style="enable-background:new 0 0 456.029 456.029;" xml:space="preserve">
                      <g>
                        <g>
                          <path d="M345.6,338.862c-29.184,0-53.248,23.552-53.248,53.248c0,29.184,23.552,53.248,53.248,53.248
                       c29.184,0,53.248-23.552,53.248-53.248C398.336,362.926,374.784,338.862,345.6,338.862z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M439.296,84.91c-1.024,0-2.56-0.512-4.096-0.512H112.64l-5.12-34.304C104.448,27.566,84.992,10.67,61.952,10.67H20.48
                       C9.216,10.67,0,19.886,0,31.15c0,11.264,9.216,20.48,20.48,20.48h41.472c2.56,0,4.608,2.048,5.12,4.608l31.744,216.064
                       c4.096,27.136,27.648,47.616,55.296,47.616h212.992c26.624,0,49.664-18.944,55.296-45.056l33.28-166.4
                       C457.728,97.71,450.56,86.958,439.296,84.91z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M215.04,389.55c-1.024-28.16-24.576-50.688-52.736-50.688c-29.696,1.536-52.224,26.112-51.2,55.296
                       c1.024,28.16,24.064,50.688,52.224,50.688h1.024C193.536,443.31,216.576,418.734,215.04,389.55z" />
                        </g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                      <g>
                      </g>
                    </svg>
                  </a>  -->
                  <form class="form-inline" method="GET" action="{% url 'search' %}">
                    <input
                        name="q"
                        type="text"
                        class="search-input"
                        placeholder="Search..."
                        id="searchInput"
                        value="{{ query|default:'' }}"
                    />
                    <button class="btn my-2 my-sm-0 nav_search-btn" type="submit">
                        <i class="fa fa-search" aria-hidden="true" style="margin-left: 17px; height: 25px; width: 25px;"></i>
                    </button>
                </form>
                   <div class="dropdown" >
                    <a href="javascript:void(0)" class="user_link" id="userDropdown" onclick="toggleDropdown()">
                      <i class="fa fa-angle-down" style=" font-size: xx-large;" style="height: 25px; width: 25px;"  aria-hidden="true"></i>
                    </a>

                    <div id="dropdownMenu" class="dropdown-menu" style=" font-size: small;background:none; border:solid 0.5px ; ">
                      {% if not request.user.is_authenticated %}
                      <a href="/auth/signup" class="dropdown-item" style="color: rgb(197, 197, 8);">SIGNUP</a>
                      <a href="/auth/login" class="dropdown-item"  style="color: rgb(197, 197, 8);">LOGIN</a>
                      {% else %}
                      <a class="dropdown-item" href="/checkout" style="color: rgb(197, 197, 8);">Checkout</a>
                      <a href="/auth/logout" class="dropdown-item" style="color: rgb(197, 197, 8);">LOGOUT</a>
                      {% endif %}
                      <a class="dropdown-item" href="/menu" style="color: rgb(197, 197, 8);">Menu</a>
                      <a class="dropdown-item" href="/about" style="color: rgb(197, 197, 8);">About</a>
                      <a class="dropdown-item" href="/contact" style="color: rgb(197, 197, 8);">Contact</a>
                  </div>
                </div>
                  <!-- <a href="" class="order_online">
                    Order Online
                  </a> -->
                </div>
              </div>
            </nav>
          </div>
        </header>
        <!-- end header section -->
        <!-- slider section -->
         {% block sliderl %}
         <div class="hero_area">
          <div class="bg-box">
            <img src=  "{% static 'images/5.jpg' %}"  alt="" >
          </div>
        <section class="slider_section ">
          <div id="customCarousel1" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <div class="container ">
                  <div class="row">
                    <div class="col-md-7 col-lg-6 ">
                      <div class="detail-box">
                        <h2 style=" font-style: italic; color:rgb(246, 226, 7); font-family:fantasy;">
                          Zesty Flavors Zero Compromise
                        </h2>
                        <p style=" color:rgb(255, 255, 255); font-style: italic; font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                          Dive into a world of bold flavors and irresistible taste.                        </p>
                        <div class="btn-box">
                          <a href="/menu/" class="btn1" style="color: black; background: linear-gradient(to right, #803434, #B8860B);;">
                            Order Now
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="carousel-item ">
                <div class="container ">
                  <div class="row">
                    <div class="col-md-7 col-lg-6 ">
                      <div class="detail-box">
                        <h2 style="color:rgb(246, 226, 7); font-style: italic; font-family:fantasy;" >
                          Satisfy Your Cravings, One Bite at a Time
                        </h2>
                        <p style=" font-style: italic; font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                          Experience the zest of mouthwatering fast food that will leave you wanting more.
                        </p>
                        <div class="btn-box">
                          <a href="/menu/" class="btn1" style="color: black; background: linear-gradient(to right, #803434, #B8860B);">
                            Order Now
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="carousel-item">
                <div class="container ">
                  <div class="row">
                    <div class="col-md-7 col-lg-6 ">
                      <div class="detail-box">
                        <h2 style=" color:rgb(246, 226, 7); font-style: italic; font-family: fantasy;">
                          Fast Fun and Flavorfull

                        </h2>
                        <p style="font-style: italic; font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
                          Discover fast food that's a feast for your taste buds and perfect for every mood.
                        </p>
                        <div class="btn-box">
                          <a href="/menu/" class="btn1" style="color: black; background: linear-gradient(to right, #803434, #B8860B); ">
                            Order Now
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="container">
              <ol class="carousel-indicators">
                <li data-target="#customCarousel1" data-slide-to="0" class="active"></li>
                <li data-target="#customCarousel1" data-slide-to="1"></li>
                <li data-target="#customCarousel1" data-slide-to="2"></li>
              </ol>
            </div>
          </div>
        </section>
        <!-- end slider section -->
    {% endblock sliderl %}
      </div>
   

    {% block content %}
    {% endblock content %}

     <!-- footer section -->
  {% block footer %}
  <footer class="footer_section" style="background-color:black ;">
    <h4>Contact Us</h4>
    <p>Feel free to reach out to us for any inquiries.</p>
    
    <div class="footer_social">
      <a href="#" title="Facebook"><i class="fa fa-facebook"></i></a>
      <a href="#" title="Twitter"><i class="fa fa-twitter"></i></a>
      <a href="#" title="Instagram"><i class="fa fa-instagram"></i></a>
    </div>
    
    <div class="footer-info">
      <p>&copy; 2024 <a href="#">Your Company</a>. All Rights Reserved.</p>
    </div>
  </footer>
 
  {% endblock footer %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

     
  <!-- jQery -->
  <script src="{% static 'js/jquery-3.4.1.min.js' %}"></script>
  <!-- popper js -->
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
  </script>
  <!-- bootstrap js -->
  <script src="{% static 'js/bootstrap.js' %}"></script>
  <!-- owl slider -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
  </script>
  <!-- isotope js -->
  <script src="https://unpkg.com/isotope-layout@3.0.4/dist/isotope.pkgd.min.js"></script>
  <!-- nice select -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js"></script>
  <!-- custom js -->
  <script src="{% static 'js/custom.js' %}"></script>

  <script>
   // Toggle dropdown menu
function toggleDropdown() {
    const dropdownMenu = document.getElementById("dropdownMenu");
    dropdownMenu.style.display =
        dropdownMenu.style.display === "block" ? "none" : "block";
}

// Close dropdown when clicking outside
window.addEventListener("click", function (event) {
    const dropdown = document.getElementById("userDropdown");
    const dropdownMenu = document.getElementById("dropdownMenu");
    if (!dropdown.contains(event.target)) {
        dropdownMenu.style.display = "none";
    }
});

// Toggle search bar
function toggleSearch() {
    const searchInput = document.getElementById('searchInput');
    searchInput.classList.toggle('active');
    if (searchInput.classList.contains('active')) {
        searchInput.focus();
    }
}

// --------------------------------------------------------------
// Function to update the cart count badge
function updateCartCount(count) {
    const cartCountElement = document.getElementById('cart-count');
    
    if (count > 0) {
        cartCountElement.textContent = count;  // Set the count number
        cartCountElement.classList.add('show');  // Show the cart count badge
    } else {
        cartCountElement.textContent = '';  // Clear the badge text
        cartCountElement.classList.remove('show');  // Hide the badge
    }
}

// Function to update the cart popup with structured data
function updateCartPopup() {
    const cartItemsList = document.getElementById('cart-items-list');
    const cartSummary = document.getElementById('cart-summary');
    cartItemsList.innerHTML = ''; // Clear current list

    if (cartItems.length === 0) {
        cartItemsList.innerHTML = '<div>No items in the cart</div>';
        cartSummary.innerHTML = ''; // Clear summary if no items
        return;
    }

    let total = 0;

    // Add structured cart items to the list
    cartItems.forEach((item, index) => {
        total += item.price * item.quantity; // Calculate total

        const listItem = document.createElement('div');
        listItem.className = 'cart-item';
        listItem.innerHTML = `
            <div class="item-details">
                <span class="item-name">${item.name}</span>
                <span class="item-price">$${item.price.toFixed(2)}</span>
                <span class="item-quantity">x${item.quantity}</span>
            </div>
            <button class="remove-item" data-index="${index}" style="margin-left: 10px; background-color: #d9534f; color: white; border: none; padding: 5px;">Remove</button>
        `;
        cartItemsList.appendChild(listItem);
    });

    // Update cart summary
    cartSummary.innerHTML = `
        <div>Total Items: ${cartItemCount}</div>
        <div>Total Price: $${total.toFixed(2)}</div>
    `;

    // Add event listeners to "Remove" buttons
    document.querySelectorAll('.remove-item').forEach(button => {
        button.addEventListener('click', function () {
            const itemIndex = this.getAttribute('data-index');
            removeCartItem(itemIndex);
        });
    });
}

// --------------------------------------------------------------
// Handle Add to Cart button clicks
let cartItems = []; // Array to store cart items
let cartItemCount = 0;

document.querySelectorAll('.add-to-cart-btn').forEach(button => {
    button.addEventListener('click', function () {
        const itemName = this.getAttribute('data-name');
        const itemPrice = parseFloat(this.getAttribute('data-price'));
        const existingItem = cartItems.find(item => item.name === itemName);

        if (existingItem) {
            existingItem.quantity += 1; // Increment quantity if item already in cart
        } else {
            cartItems.push({ name: itemName, price: itemPrice, quantity: 1 });
        }

        cartItemCount++;
        updateCartCount(cartItemCount);
        updateCartPopup();
    });
});

// Remove item from the cart
function removeCartItem(index) {
    const item = cartItems[index];
    cartItemCount -= item.quantity; // Decrement cart count by item quantity
    cartItems.splice(index, 1); // Remove the item from the cart
    updateCartCount(cartItemCount);
    updateCartPopup();
}

// --------------------------------------------------------------
// Toggle cart popup visibility
const cartPopup = document.getElementById('cart-popup');
document.getElementById('popcart').addEventListener('click', function (event) {
    event.stopPropagation(); // Prevent click event from propagating
    cartPopup.style.display = cartPopup.style.display === 'block' ? 'none' : 'block';
});

// Close the cart popup when clicking outside of it
document.addEventListener('click', function (event) {
    if (!cartPopup.contains(event.target) && event.target.id !== 'popcart') {
        cartPopup.style.display = 'none';
    }
});

// Clear the cart
document.getElementById('clear-cart-btn').addEventListener('click', function () {
    cartItems = [];
    cartItemCount = 0;
    updateCartCount(cartItemCount);
    updateCartPopup();
});


  </script>

</body>
</html>